---
layout: single
title: dockerfile SHELL과 EXPOSE
categories: Docker
tag: []
---

1. # SHELL
   기본 쉘을 설정하는 명령어입니다.   
   ```s
      SHELL ["쉘 경로","파라미터"]
   ```   

   쉘 명령을 지정하지 않을 때 Linux의 기본 쉘은 ["bin/sh","-c"], Windows는["cmd","/S","/C"]   
   *'-c' 옵션은 쉘에게 다음에 오는 인자를 명령어로 해석하도록 지시   

   예)
   ```s   
      SHELL ["/bin/bash","-c"]

      RUN echo hello
   ```   
   SHELL명령어 이후 Dockerfile 안에서 지정한 RUN명령에 적용됩니다.   

1. # EXPOSE
   EXPOSE 명령은 컨테이너가 특정 포트를 사용하고 있음을 Docker에게 알리는 역할을 합니다.   
   즉, EXPOSE 명령은 호스트와 컨테이너 간의 통신을 위해 개방해야 하는 포트를 지정하는 것입니다. 이렇게 지정된 포트는 Docker 명령어를 사용하여 컨테이너를 실행할 때 -p 옵션을 통해 호스트와 연결될 수 있습니다.   

   Dockerfile에 다음과 같이 EXPOSE 명령을 추가하면 컨테이너 내부에서 80번 포트를 사용하고 있음을 나타냅니다.   
   ```s
      EXPOSE 80
   ```   
   이렇게 설정된 포트는 컨테이너를 실행할 때 -p 옵션을 사용하여 호스트와 연결할 수 있습니다.   

   ```s
      docker run -p 8080:80 이미지이름   
   ```   
   위 명령어를 실행하면 호스트의 8080 포트와 컨테이너의 80 포트가 연결되어, 호스트의 8080 포트로 접근하면 컨테이너 내부의 80 포트로 요청이 전달됩니다.   
   EXPOSE 명령은 컨테이너가 사용하는 포트를 명시함으로써 호스트와의 포트 연결을 쉽게 설정할 수 있도록 도와줍니다.   





