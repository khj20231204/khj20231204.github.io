---
layout: single
title: AOP
categories: SPRING
tag: []
author_profile: false
---

1. # AOP
   ```java
      class MyClass{

         void aaa(){
            System.out.println("[before]{");
            System.out.println("aaa() is called.");
            System.out.println("}[after]");
         }

         void aaa2(){
            System.out.println("[before]{");
            System.out.println("aaa2() is called.");
            System.out.println("}[after]");
         }

         void aaa3(){
            System.out.println("[before]{");
            System.out.println("aaa3() is called.");
            System.out.println("}[after]");
         }
      }
   ```   
   aaa,aaa2,aaa3에 모두 공통의 before부분과 after부분을 가지고 있습니다. 핵심기능(aaa메서드 호출)과 부가기능(before, after)이 섞여 있습니다. 1개의 메서드에 2개의 관심사가 있습니다. 관심사는 작업의 성격이라고 보면됩니다. 이부분을 따로 클래스로 빼냅니다.   

   ```java
      class MyAdvice{
         void invoke(Method m, Object obj, Object... args) throws Exception{
            System.out.println("[before]{");
            m.invoke(obj, args); //메서드 호출
            System.out.println("}[after]");
         }
      }

      class MyClass{
         void aaa(){
            System.out.println("aaa() is called.");
         }

         void aaa2(){
            System.out.println("aaa2() is called.");
         }

         void aaa3(){
            System.out.println("aaa3() is called.");
         }
      }
   ```   
   MyAdvide라는 클래스로 중복부분을 따로 빼냅니다. 관심사가 분리되고 공통코드도 분리됨      

   분리해야하는 항목   
   ①관심사   
   ②변하는 것 , 변하지 않는 것   
   ③공통코드   
