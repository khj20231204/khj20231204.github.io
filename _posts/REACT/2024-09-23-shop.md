---
layout: single
title: shop
categories: REACT
tab: 
---

1. # data.js import와 export
   data.js파일도 import함   
   ```javascript
      let data = [
         {
         id : 0,
         title : "White and Black",
         content : "Born in France",
         price : 120000
         },
      
         {
         id : 1,
         title : "Red Knit",
         content : "Born in Seoul",
         price : 110000
         },
      
         {
         id : 2,
         title : "Grey Yordan",
         content : "Born in the States",
         price : 130000
         }
      ] 

      export default data;
   ```   
   하단에 export default data;를 함

   사용하는 곳에서는 import를 해야 됨   
   ```javascript
      import data from './data'
   ```
   import경로는 점슬래쉬(./)로 시작합니다.   

1. # 컴포넌트로 useState전달
   App.js에서 Card란 컴포넌트를 사용하는데 App.js에 shoesData란 useState가 있는 경우   

   App.js
   ```javascript
      function App() {

         const [shoesData] = useState(data);

         return(
            <Row>
               {shoesData.map((e,i) => {
                  return(
                     <Card shoesData={shoesData[i]} key={i} num={i}></Card>
                  )
               })}
            </Row>
         )
      }
   ```   
   Card란 컴포넌트에 shoesData란 변수명으로 {shoesData}란 useState 값을 넘겨 줍니다.   

   Card.js
   ```javascript
      function Card(props){
         return (
            <Col>
               <img src={"/img2/shoes"+ props.num +".jpg"} width="50%"></img>
               <h4>{props.shoesData.title}</h4>
               <p>{props.shoesData.price}원</p>
               <p>상품 설명</p>
            </Col>
         )
      }

      export default Card;
   ```   
   Card(props) props란 매개변수를 전달받게 되는데 props는 객체기 때문에 내부에 다양한 이름과 값이 있습니다. 다양한 이름 중 shoesData를 사용.

1. # router
   리액트를 사용하기 전에는 새로운 페이지로 넘어가게 되면 새로운 html페이지를 보여주었지만,   
   리액트를 사용하게 되면 페이지 이동없이 새로운 컴포넌트를 보여주게 됩니다.

1. # styled-components

   설치
   ```javascript   
       npm install styled-components
   ```

   사용
   ```javascript
      import styled from 'styled-components' //import

      //선언
      let YellowBtn = styled.button`   
         background : yellow;
         color : balck;
         padding : 10px;
      `

      let BlackDiv = styled.div`
         background : gray;
         padding : 10px;
         width : 100%
      `

      //활용
      <YellowBtn>yellowBtn</YellowBtn>
      <BlackDiv></BlackDiv>
   ```   
   styled.요소 styled이후에 점을 찍은 후 스타일을 지정하고 싶은 요소를 써주면 됩니다. 변수에 할당하면 변수 이름이 하나의 컴포넌트가 됩니다.   

   styled-components의 장점   
   장점1. CSS 파일 오픈할 필요없이 JS 파일에서 바로 스타일넣을 수 있습니다.
   장점2. 여기 적은 스타일이 다른 JS 파일로 오염되지 않습니다. 원래 그냥 CSS파일은 오염됩니다.
   장점3. 페이지 로딩시간 단축됩니다.

   useState로 활용해서 적용
   ```javascript
      let YellowBtn = styled.button`
         background : ${props => props.bg}
      `

      <YellowBtn bg="blue">버튼</YellowBtn>
   ```

   조건식을 줄 수도 있습니다.
   ```javascript
      let YellowBtn = styled.button`
      background : ${props => props.bg};
      color : ${ props => props.bg == 'blue' ? 'white' : 'black'};
      padding : 10px;
   `
   ```

   기존 스타일을 복사해서 커스터마이징도 됩니다.   
   ```javascript
      let CopyYellowBtn = styled.button(YellowBtn)`
         font-style : bold;
      `
   ```

1. # css 적용 범위 제한
   App.module.css => 컴포넌트.module.css로 css이름 형식을 지어주면 해당 컴포넌트에서만 css파일이 적용됩니다.   

1. # useEffect
   useEffect 실행시 2번 실행되는 경우 제거   

   index.js파일에서 <React.StrictMode> 삭제   
   ```javascript
      const root = ReactDOM.createRoot(document.getElementById('root'));
         root.render(
         <React.StrictMode> /* 삭제 */
            <BrowserRouter>
            {/* <App2 /> */}
            <App />
            </BrowserRouter>
         </React.StrictMode>
         );
   ```   

   useEffect 안에 있는 코드는 __html 렌더링 후__ 에 동작합니다.   