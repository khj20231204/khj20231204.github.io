---
layout: single
title: 암호화
categories: Docker
tag: [개인키, 공개키, GPG]
---

1. # 암호
   암호의 어원은 그리스어의 '비밀'이란 뜻을 가진 크립토스(Kryptos)로 알려져 있습니다. 암호란 사람이 읽고 이해할 수 있는 평문을 다른 사람이 읽거나 해독하지 못하도록 암호문으로 바꾸는 모든 수학적인 원리, 수단, 방법 등을 취급하는 기술이나 과학을 의미합니다. 패스워드를 암호라고 부르는 경우도 있지만, 패스워드와 암호는 엄연히 다릅니다. 패스워가 특정 시스템에 접근하기 위한 권한 여부를 검증하는 수단이라면, 암호는 특정 정보를 타인이 해독 불가능한 상태로 변형하는 것을 말합니다.   

1. # 용어
   평문 → 암호문 : 암호화(Encryption)   
   암호문 → 평문 : 복호화(Decryption)   

   암호화 키와 복호화 키가 동일한 키 → 대칭키   
   
   암호화 키와 복호화 키가 다른 키 → 비대칭키      

   비대칭키 = 개인만 소유하는 개인키 + 외부로 공개하는 공개키

   개인키로 암호화 하면 공개키로 복호화   

   공개키로 암호화 하면 개인키로 복호화   

1. # 대칭키
   대칭키는 암호화 키와 복호화 키가 동일한 키입니다. 송신자(암호자)는 평문을 대칭키로 암호화하고, 암호문과 대칭키를 함께 수신자에게 보냅니다. 수신자는 대칭키로 암호문을 복호화합니다.   

   대칭키를 암호문과 함께 전송할 때 탈취의 문제점이 있습니다. 키만 있으면 암호를 해독할 수 있기 때문에 키를 안전하게 배송해야하는 문제가 발생했습니다. 이런 '키 배송의 문제'의 해결책으로 출현한 것이 비대칭키 개념입니다.   

1. # 비대칭키
   대칭키의 키 배송 문제를 해결하기 위해 비대칭키 암호는 암호화 키와 복호화 키가 서로 다른 키를 사용합니다. 비대칭키는 수학적으로 아주 밀접하게 연관된 쌍(소인수분해를 이용, 타원곡선 알고리즘을 이용, 해쉬함수 이용 등)으로 구성된 2개의 키를 발행하며, 하나의 키로 암호화하면 반드시 그 키와 쌍을 이루는 다른 키로만 복호화가 가능하게 설계됩니다.   

   예)A(송신자)에서 암호화를 해서 B(수신자)에게 데이터를 보내면 B가 복호화   
   1)B(수신자)가 수학적으로 쌍을 이룬 비대칭키(개인키와 공개키)를 발행   
   2)공개키를 A에게 전송   
   3)A는 공개키를 가지고 데이터를 암호화   
   4)B에게 데이터 전송   
   5)B가 받은 데이터를 개인키를 이용해서 복호화   

1. # 비대칭키의 한계와 해결책
   - 한계   
   비대칭키는 키 배송 문제는 해결되었지만 상당히 많은 연산을 해야 합니다. 데이터 크기가 늘어날 수록 연산에 소비되는 리소스도 늘어납니다.
   대칭키는 속도가 빠르지만 키 배송 문제가 있고, 비대칭키는 키 배송 문제는 해결했지만 속도가 느립니다.   

   - 해결책   
   공개키로 암호화 했던걸 개인키로 복호화 하는 과정에서 시간과 리소스가 많이 소비됩니다. 대칭키 하나로 암호화와 복호화가 이루어지게 하면 시간을 많이 절약할 수 있습니다. 용량이 작은 대칭키를 비대칭키 방식으로 암호화 한 후 B(수신자)측에서 이렇게 받은 암호화된 대칭키를 풀어서 데이터 암호를 풀면 시간과 리소스를 절약할 수 있습니다.   
   예)A(송신자)가 데이터를 B(수신자)에게 보냄   
   1)A(송신자)는 __대칭키__ 를 이용하여 __데이터를 암호화__   
   2)B(수신자)는 __비대칭키를 발행__ 하여 __공개키__ 를 A에게 전송   
   :A는 대칭키와 공개키 2개를 가지게 됨     
   3)A는 데이터를 암호화하는데 사용한 __대칭키__ 를 B로부터 받은 __공개키로 암호화__   
   :A는 대칭키를 암호화 함   
   4)대칭키로 암호화된 데이터와 공개키로 암호화된 대칭키 암호문을 전송   
   :A는 데이터와 대칭키 암호문 2개를 전송   
   5)B는 공개키와 쌍을 이루는 개인키를 이용하여 대칭키를 복호화   
   6)B는 복호화된 대칭키를 이용하여 암호화된 데이터를 복호화   
   *키도 데이터이기 때문에 키를 암호화하는 것이 가능   

1. # GPG
   GPG(GNU Privacy Guard)는 공개 키 암호화 방식을 사용합니다. 공개 키 암호화는 대칭 키 암호화와 달리 공개 키와 개인 키라는 두 개의 키를 사용하여 데이터를 암호화하고 복호화합니다. 공개 키는 모두에게 공개되며, 데이터를 암호화할 때 사용됩니다. 공개 키로 암호화된 데이터는 개인 키로만 복호화할 수 있습니다. 개인 키는 소유자에게만 알려져 있어 개인 키로만 데이터를 복호화할 수 있습니다.   

   GPG를 다운로드하는 주요 목적 중 하나는 개인 키를 생성하는 것입니다. GPG를 사용하려면 먼저 개인 키와 공개 키를 생성해야 합니다. 개인 키는 GPG 사용자의 신원을 확인하고 데이터를 암호화 및 서명하는 데 사용됩니다. 개인 키는 안전한 장소에 보관되어야 하며, 개인 키를 알고 있는 사용자만이 개인 키로 암호화된 데이터를 해독할 수 있습니다. 공개 키는 다른 사람들이 GPG를 사용하여 개인 키로 암호화된 데이터를 복호화할 수 있도록 해주는 역할을 합니다. 공개 키는 다른 사람들과 공유되며, 개인 키로 서명된 데이터를 확인하는 데 사용됩니다. 따라서 GPG를 다운로드하고 설치한 후 개인 키를 생성하면, 암호화 및 서명에 사용할 수 있는 GPG를 사용할 수 있게 됩니다.   
   
   GPG는 강력한 암호화 알고리즘을 사용하여 데이터의 안전성을 보장합니다. 대표적인 알고리즘으로 RSA, DSA, ElGamal 등이 있으며, 이러한 암호화 알고리즘을 조합하여 GPG는 안전한 통신과 데이터 보호를 제공합니다.
