---
layout: single
title: vi편집기
categories: Ubuntu
tag: [vi]
---

*vi편집기에서 방향키를 치면 문자가 입력되고 키가 제대로 안 먹힌다면 vim으로 업데이트를 합니다.   
```s
   sudo apt-get install vim
```   
vim 업데이트 후 vi편집기도 에러가 발생하지 않습니다.   

1. # 모드   
   <br>   
　　　　　__편집 모드__ : 문서작성 및 편집   
   <br>   
　　　　　&nbsp;&nbsp;&nbsp;a,i,o입력 ↑↓ esc입력   
   <br>   
　　　　　__명령 모드__ : 커서이동, 복사, 이동 등   
   <br>   
　　　　　&nbsp;&nbsp;&nbsp;esc입력 ↑↓ : 입력   
   <br>   
　　　　　__EX 명령 모드__ : 저장 및 종료   
   <br>   
　　　　　&nbsp;&nbsp;&nbsp;&nbsp;↓ :wq    
   <br>   
　　　　　&nbsp;&nbsp;&nbsp;&nbsp;__종료__   
   
   입력모드 : i - 왼쪽에 문자 추가, a - 오른쪽에 문자 추가   
   esc - 명령 모드   

   글자를 입력할 땐 입력모드, 그 이외 저장, 종료, hjkl 커서 이동 등 전부 명령모드   

1. # 명령모드   
   2. 편집 모드로 전환   
   
      | 키 | 기능 |
      |:---:|:---:|
      |a| 현재 커서 뒤에 입력 |
      |i| 현재 커서 앞에 입력 |
      |o| 현재 행의 다음 행부터 입력 |
   
   2. 커서 이동   

      | 키 | 기능 |
      |:---:|:---:|
      |G| 가장 마지막 줄로 이동 |
      |gg| 첫번째 줄로 이동 |
      |[n]G| n번째 줄로 이동 |
      |0| 커서가 위치한 줄의 맨 앞으로 이동 |
      |$| 커서가 위치한 줄의 맨 끝으로 이동 |
      |b| 한 단어씩 왼쯕으로 이동 |
      |w| 한 단어씩 오른쪽으로 이동 |
   
   2. 취소와 실행   

      취소 : u   

      다시 실행 : ctrl + r   

   2. 이동   
      단어 단위로 이동 : 다음 단어 - w, 이전 단어 - b​   

      첫 행으로 이동 : gg   

      마지막 행으로 이동 : G   

      행 번호로 이동 : 숫자+G(대문자)   

      ex) 23 입력 후 shift+g 를 누르면 23째 줄 행으로 이동한다.   

   2. 붙여넣기
      p   

   2. 복사   

      | 키 | 기능 |
      |:---:|:---:|
      |yy| 한 줄 복사 |
      |yb| 커서 위치에서 왼쪽 한 단어 복사 |
      |yw| 커서 위치에서 오른쪽 한 단어 복사 |

      현재 위치에서 한 줄 시작까지 복사 : y0(숫자 0)   
      현재 위치에서 한 줄 마지막까지 복사 : y$   
      현재 위치에서 문서 시작까지 복사 : ygg   
      현재 위치에서 문서 마지막까지 복사 : yG   
      3yy : 3줄 복사   

   2. 삭제(=잘라내기)   
         
      | 키 | 기능 |
      |:---:|:---:|
      |x| 한 문자 삭제 |   
      |dd| 한 줄 삭제 |
      |db| 커서 위치에서 왼쪽 한 단어 삭제 |
      |dw| 커서 위치에서 오른쪽 한 단어 삭제 |

      잘라내기: x와 d로 삭제한 후 p로 붙여넣기   

      현재 위치에서 한 줄 시작까지 삭제 : d0(숫자 0)   
      현재 위치에서 한 줄 마지막까지 삭제 : d$   
      현재 위치에서 문서 시작까지 삭제 : dgg   
      현재 위치에서 문서 마지막까지 삭제 : dG   
      3dd : 3줄 삭제   

   2. 수정    
   
      | 키 | 기능 |
      |:---:|:---:|
      |r| 커서 위치 문자를 변경 insert |
      |u| 이전 명령 취소 |
      |.| 이전 최종 명령 실행 |

   2. 붙여넣기   
      
      | 키 | 기능 |
      |:---:|:---:|
      |p(소문자)| 커서 위치에서 아랫줄에 붙여넣기 |
      |P(대문자)| 커서 위치에서 윗줄에 붙여넣기 |
         
   2. 검색

      /[내용] : 검색   
      n : 다음 검색   
      N : 이전 검색   
      /검색할 문자열   

   2. 바꾸기

      |옵션|기능|
      |:---:|:---:|
      |i|대소문자 구분 없이 검색|
      |g|해당 문자 모두 변환|
      |c|변환 시 질의|

      :를 누르면 가장 밑에 명령어 입력 가능.   
      %s/[찾을 내용]/[바꿀 내용]/[옵션]   
      "%s/검색할 문자열"까지 입력하면 화면에 검색한 문자열은 선택이 된다.   
                  
1. # EX 명령 모드   
   2. 환경 설정   

      :set nu   
      줄 번호 표시   
  
      :set nonu   
      줄 번호 표시 해제   

      :set ic   
      검색할 때 대소문자 무시   
  
      :set noic   
      검색할 때 대소문자 구분   
  

   2. 저장 및 종료   
   
      | 키 | 기능 |
      |:---:|:---:|
      |w| 저장 |
      |q| 종료 |
      |wq| 저장 후 종료 |
      |w!| 강제 저장 |
      |q!| 강제 종료 |
      |wq!| 저장 및 강제 종료 |
      
1. # 치환
   %s/[찾을 내용]/[바꿀 내용]/[옵션]   
   “%s/검색할 문자열”까지 입력하면 화면에 검색한 문자열은 선택이 된다.   
   
   ```s
      %s/kr.archive.ubuntu.com/mirror.kakao.com/
   ```   
   `/`가 포함된 경우
   ```s
      hello/ Wing/ Bnana

      %s/hello. Wing. Bnana
   ```   
   .(점)으로 임의의 문자를 대신합니다.
   
1. # 몇 라인까지 주석처리
   1)주석 처리하려는 시작 라인으로 이동   
   예를 들어, 5번째 라인부터 주석 처리하려고 한다면, 편집기를 열고 `:`5를 입력한 후 Enter   

   2)Visual 모드로 변경하기 위해 Shift + v누름   
   커서가 이동하는 행만큼 선택 됨   

   3)주석 처리할 마지막 라인까지 커서를 이동   
   예를 들어, 10번째 라인까지 주석 처리하고 싶다면, 10번째 라인까지 커서를 이동   

   4)`:'<,'>s/^/#`   
   행이 선택된 상태에서 바로 : 입력하면 `'<,'>` ← 자동으로 범위구간이 선택되고 바로 뒤에 s/^/#/를 입력   

   *정규 표현식에서 s는 “substitute”를 의미하며, 문자열 내에서 패턴을 찾아 다른 문자열로 바꾸는 치환 작업을 수행하는 명령입니다.   

   *^는 정규 표현식에서 “라인의 시작”을 나타내는 특수 문자입니다. ^는 해당 패턴이 문자열의 시작 부분에서 나타남을 의미합니다. 예를 들어, ^abc는 문자열의 시작 부분에 있는 “abc” 패턴을 의미합니다.   
  


     
   

      
      
      